{% extends 'base.html' %}

{% block title %}
  {{data.name}} sur Sehatra.com
{% endblock %}

{% load static %}

{% block content %}
{% if data %}
  <div class="py-7 min-vh-100 flq-background d-flex align-items-center">
    <div class="flq-background-image">
      <span class="flq-image jarallax" data-speed="0.7">
        <img src="{% static data.image %}" alt="{{ data.name }}" class="jarallax-img" /></span>
    </div>
    <div class="flq-background-overlay" style="background-color: hsla(var(--flq-color-black), 0.8);"></div>
    <div class="container pt-navbar" data-sr="movie" data-sr-interval="70" data-sr-duration="1200" data-sr-distance="10">
      <div class="row gy-6 gx-6">
        <div class="col-12 col-lg-6 col-xl-5 col-xxl-4" data-sr data-sr-duration="1600" data-sr-distance="10">
          <div class="card flq-card-image flq-card-favorites h-lg-100">
            {% comment %}quand l'image est cliquer{% endcomment %}
            <a href="{% static data.image %}" alt="{{ data.name }}" class="card-image" data-fancybox>
              <span class="flq-image flq-rounded-xl flq-responsive flq-responsive-4x3">
                <img src="{% static data.image %}" alt="{{ data.name }}"/></span>
              <svg width="38" height="38" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 20H16M4 8V4V8ZM4 4H8H4ZM4 4L9 9L4 4ZM20 8V4V8ZM20 4H16H20ZM20 4L15 9L20 4ZM4 16V20V16ZM4 20H8H4ZM4 20L9 15L4 20ZM20 20L15 15L20 20ZM20 20V16V20Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </a>
            <div class="card-body">
              <a href="#" class="btn btn-dark btn-glass btn-block" data-bs-toggle="button">
                <span class="btn-icon">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.3671 3.84166C16.9415 3.41583 16.4361 3.07803 15.8799 2.84757C15.3237 2.6171 14.7275 2.49847 14.1254 2.49847C13.5234 2.49847 12.9272 2.6171 12.371 2.84757C11.8147 3.07803 11.3094 3.41583 10.8838 3.84166L10.0004 4.725L9.11709 3.84166C8.25735 2.98192 7.09128 2.49892 5.87542 2.49892C4.65956 2.49892 3.4935 2.98192 2.63376 3.84166C1.77401 4.70141 1.29102 5.86747 1.29102 7.08333C1.29102 8.29919 1.77401 9.46525 2.63376 10.325L3.51709 11.2083L10.0004 17.6917L16.4838 11.2083L17.3671 10.325C17.7929 9.89937 18.1307 9.39401 18.3612 8.83779C18.5917 8.28158 18.7103 7.6854 18.7103 7.08333C18.7103 6.48126 18.5917 5.88508 18.3612 5.32887C18.1307 4.77265 17.7929 4.26729 17.3671 3.84166V3.84166Z" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.3671 3.84166C16.9415 3.41583 16.4361 3.07803 15.8799 2.84757C15.3237 2.6171 14.7275 2.49847 14.1254 2.49847C13.5234 2.49847 12.9272 2.6171 12.371 2.84757C11.8147 3.07803 11.3094 3.41583 10.8838 3.84166L10.0004 4.725L9.11709 3.84166C8.25735 2.98192 7.09128 2.49892 5.87542 2.49892C4.65956 2.49892 3.4935 2.98192 2.63376 3.84166C1.77401 4.70141 1.29102 5.86747 1.29102 7.08333C1.29102 8.29919 1.77401 9.46525 2.63376 10.325L3.51709 11.2083L10.0004 17.6917L16.4838 11.2083L17.3671 10.325C17.7929 9.89937 18.1307 9.39401 18.3612 8.83779C18.5917 8.28158 18.7103 7.6854 18.7103 7.08333C18.7103 6.48126 18.5917 5.88508 18.3612 5.32887C18.1307 4.77265 17.7929 4.26729 17.3671 3.84166V3.84166Z" fill="currentColor" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </span>
                <span class="btn-name">Ajouter à mes favoris</span>
              </a>
            </div>
          </div>
        </div>
        <div class="col-12 col-lg-6 py-lg-2 flq-vertical-rhythm">
          <span class="flq-subtitle badge badge-white badge-translucent" data-sr-item="movie">{{ data.gender }}</span>
          <h1 class="mb-0" data-sr-item="movie">{{ data.title }}</h1>
          <div class="mt-3">
            <div class="row gy-1 flq-color-opacity">
              <div class="col-auto" data-sr-item="movie">
                <a href="" class="flq-color-meta flq-color-title-hover"><strong>{{ data.date}}</strong></a>
              </div>
              <div class="col-auto" data-sr-item="movie">
                <a href="" class="flq-color-meta flq-color-title-hover"><strong>{{ data.duration}}</strong></a>
              </div>
            </div>
          </div>
          <p class="lead" data-sr-item="movie">{{data.description}}</p>
          <div class="py-1">
            <div class="row gy-4 align-items-center">
              <div class="col-auto" data-sr-item="movie">
                <a href="#" class="btn btn-icon-sm">
                  <span class="btn-name">Regarder maintenant&nbsp;&nbsp;</span>
                  <i class="fa-solid fa-play"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="content-wrap">
    <div class="py-7">
      <div class="container-small flq-vertical-rhythm">
        <h3>{{data.title}}</h3>
        <p>{{data.detail}}</p>
        <div class="card flq-card-image flq-card-trailer">
          <div class="card-video">
            <div class="modal fade" id="resumeModal" tabindex="-1" role="dialog" aria-labelledby="resumeModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="resumeModalLabel">Reprendre</h5>
                  </div>
                  <div class="modal-body">Voulez-vous reprendre la vidéo là où vous l'avez laissée ?</div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="startFresh" data-dismiss="modal">Non</button>
                    <button type="button" class="btn btn-primary" id="resumeVideo" data-dismiss="modal">Oui, Reprendre</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Resume modal -->

            <video id="my-video" controls>
              <source src="{{ video_url }}" type="video/mp4" />
            </video>
          </div>
        </div>
        <table class="table">
          <tbody>
            <tr>
              <td class="flq-color-meta">Date de production</td>
              <td>{{data.date}}</td>
            </tr>
            <tr>
              <td class="flq-color-meta">Pays</td>
              <td>[Nom du pays]</td>
            </tr>
            <tr>
              <td class="flq-color-meta">Genre</td>
              <td>{{data.gender}}</td>
            </tr>
            <tr>
              <td class="flq-color-meta">Durée</td>
              <td>{{data.duration}}</td>
            </tr>
          </tbody>
        </table>
        <h3 class="mt-7 mb-5">Avis & Commentaires</h3>
        <div class="flq-comments" data-sr="movie-comment" data-sr-interval="100" data-sr-distance="10" data-sr-duration="1000">
          <ul>
            <li class="flq-comment" data-sr-item="movie-comment">
              <div class="flq-media">
                <div class="flq-media-image">
                  <span class="flq-image"><img src="{% static 'assets/images/user-160x160.jpg' %}" alt="user-image" /></span>
                </div>
                <div class="flq-media-meta">
                  <h5 class="flq-media-title">[Nom user]</h5>
                  <div class="flq-meta">
                    <ul>
                      <li>
                        <a href="#">[Date et heure]</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="flq-rating" style="--flq-rating--width: 3%;">
                <span>
                  <span></span>
                  <span></span>
                </span>
              </div>
              <div class="flq-comment-content flq-vertical-rhythm">
                <p>[Avis et commentaires]</p>
              </div>
            </li>
            <li class="flq-comment" data-sr-item="movie-comment">
              <div class="flq-media">
                <a href="#" class="flq-media-image"><span class="flq-image"><img src="{% static 'assets/images/actor/anna-chase-160x160.jpg' %}" alt="user-image" /></span></a>
                <div class="flq-media-meta">
                  <h5 class="flq-media-title"><a href="#">[Nom user]</a></h5>
                  <div class="flq-meta">
                    <ul>
                      <li>
                        <a href="#">[Date et heure]</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="flq-rating" style="--flq-rating--width: 0%;">
                <span>
                  <span></span>
                  <span></span>
                </span>
              </div>
              <div class="flq-comment-content flq-vertical-rhythm">
                <p>[Avis et commentaires]</p>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="py-7 flq-background-color-100">
      <div class="container-small">
        <h3 class="mb-5">Ajoutez un commentaire</h3>
        <form action="#">
          <div class="row gy-4" data-sr="movie-review" data-sr-interval="100" data-sr-distance="10" data-sr-duration="1000">
            <div class="col-12" data-sr-item="movie-review">
              <span class="flq-rating-dynamic">
                <span>
                  <input type="radio" id="-rate-1" name="-rate" value="1" />
                  <input type="radio" id="-rate-2" name="-rate" value="2" />
                  <input type="radio" id="-rate-3" name="-rate" value="3" />
                  <input type="radio" id="-rate-4" name="-rate" value="4" />
                  <input type="radio" id="-rate-5" name="-rate" value="5" />
                </span>
              </span>
            </div>
            <div class="col-12" data-sr-item="movie-review">
              <textarea class="form-control flq-form-message" rows="5" placeholder="Votre critique"></textarea>
            </div>
            <div class="col-12 col-sm-6" data-sr-item="movie-review">
              <input class="form-control flq-form-user" type="text" placeholder="Votre nom" />
            </div>
            <div class="col-12 col-sm-6" data-sr-item="movie-review">
              <input class="form-control flq-form-mail" type="email" placeholder="Votre email" />
            </div>
            <div class="col-12" data-sr-item="movie-review">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="form_check_review" />
                <label class="form-check-label" for="form_check_review">Enregistrer mon nom, email et site web dans ce navigateur pour mon prochain commentaire.</label>
              </div>
            </div>
            <div class="col-12" data-sr-item="movie-review">
              <button class="btn btn-block">
                Envoyer&nbsp;&nbsp;<i class="fa-solid fa-paper-plane"></i>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="py-7">
      <div class="container flq-swiper-wrapper" data-sr="related" data-sr-interval="100" data-sr-duration="1000" data-sr-distance="10">
        <div class="row align-items-center justify-content-between gx-5 gy-4 mb-5">
          <div class="col-auto">
            <h3 data-sr-item="related">Autres films sur Sehatra.com</h3>
          </div>
          <div class="col d-none d-sm-block" data-sr-item="related">
            <hr />
          </div>
          <div class="col-auto" data-sr-item="related">
            <div class="flq-swiper-button-prev btn btn-sm btn-square btn-white btn-brand-hover btn-active btn-icon-sm me-1">
              <i class="fa-solid fa-angle-left"></i>
            </div>
            <div class="flq-swiper-button-next btn btn-sm btn-square btn-white btn-brand-hover btn-active btn-icon-sm">
              <i class="fa-solid fa-angle-right"></i>
            </div>
          </div>
        </div>
        <div class="swiper flq-swiper-effect-touch" data-sr-item="related" data-buttons="true" data-gap="30" data-loop="true" data-speed="800" data-touch-ratio="0.8" data-breakpoints="320:1,656:2,1072:3,1280:4">
          <div class="swiper-container">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div class="card flq-card-blog">
                  <div class="card-img-wrap">
                    <a href="#" data-bs-toggle="modal" data-bs-target="#movieModal">
                      <span class="flq-image flq-rounded-xl flq-responsive flq-responsive-4x3">
                      <img src="{% static 'assets/images/concert_live/fetisibal.png' %}" alt="film-video" /></span></a>
                  </div>
                  <div class="card-body">
                    <h5 class="card-title"><a href="#" data-bs-toggle="modal" data-bs-target="#movieModal">[Titre du film]</a></h5>
                    <div class="flq-meta flq-meta-sm">
                      <ul>
                        <li>
                          <a href="#" class="card-year">[Date]</a>
                        </li>
                        <li>
                          <a href="#" class="card-category">[Genre]</a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Fenêtre modale pour afficher les détails du film -->
        <div class="modal fade" id="movieModal" tabindex="-1" aria-labelledby="movieModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="movieModalLabel">Détails du film</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="row g-0">
                  <!-- Image du film à gauche -->
                  <div class="col-lg-6 position-relative">
                    <a href="{% url 'single_movie' name='single-movie-name' %}" class="w-100 h-100 d-block">
                      <div class="flq-image flq-rounded-xl">
                        <img src="{% static 'assets/images/concert_live/fetisibal.png' %}" alt="Détail du film" class="img-fluid w-100 h-100 rounded-img" style="object-fit: cover;" />
                        <!-- Bouton positionné sur l'image avec fond transparent et icône play -->
                        <button type="button" class="position-absolute animated-button" style="bottom: 20px; left: 50%; transform: translateX(-50%); width: calc(100% - 40px);">
                          <span>Regarder&nbsp;&nbsp;<i class="fas fa-play"></i></span>
                        </button>
                      </div>
                    </a>
                  </div>
                  <!-- Détails du film à droite (texte défilant sur grands écrans) -->
                  <div class="col-lg-6 d-flex flex-column justify-content-start ps-3 movie-details">
                    <div class="text-start">
                      <h5 class="movie-title flq-subtitle badge badge-white badge-glass badge-translucent">[Titre du film]</h5>
                      <p class="movie-date">Date : [Date]</p>
                      <p class="movie-genre">Genre : [Genre]</p>
                      <p class="movie-description">Description : [Description du film] Lorem ipsum dolor sit amet consectetur adipisicing elit. maxime quo quidem expedita amet obcaecati cupiditate soluta reiciendis, esse natus saepe laboriosam nam alias eius libero. Lorem ipsum dolor sit amet consectetur adipisicing elit. Vero tempora in voluptatibus consequatur, ipsum est nihil placeat error, optio reprehenderit enim illum molestiae a laboriosam ad nemo modi similique aliquid. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolorem mollitia, eum nostrum deserunt aliquid nam quae deleniti.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% else %}
  <p>Aucune donnée trouvée pour {{ name }}.</p>
{% endif %}
{% endblock %}
